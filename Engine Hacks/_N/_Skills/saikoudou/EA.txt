#include config.txt
ALIGN 4

//奥義の鼓動の状態異常指定は3ファイル。(別フォルダの確率関連にもある)
//


////Revert
PUSH

ORG 0x01cefc
SHORT $2000 $E02E
WORD $03004df0

ORG 0x1cef0
SHORT $DD04

POP



////main
PUSH

ORG 0x018540
    WORD $46874800
    POIN kaze_reboot
POP

kaze_reboot:
#incbin reboot.gba
 POIN hasQuickenedPulse




////撃破系
//0xFF 撃破一回目
//0xFE 撃破処理済
//0x7F 撃破二回目以降
//0x7E 二回目以降処理済み
PUSH
ORG 0x02b808
jumpToHack(defeatEnemy)
POP

defeatEnemy:
#incbin defeatEnemy.gba
ALIGN 4



////未整理
PUSH
ORG 0x0185f4
jumpToHack(pulse_impl)
 
//病気のフキダシ表示
ORG 0x08e6d8
WORD $0808e748	//revert

//病気のヘルプ
ORG 0x08ad04
//WORD $0808ad8a
WORD $0808ad18

//病気のステータス画面文字
ORG 0x05c2a3c
//WORD $04a7
WORD $0477

//病気の文字
ORG 0x08e694
 #incbin pulse_word.gba
ORG 0x08e6d8
WORD $08411c80	//	真っ白を描写する為の適当な空き領域
//WORD $0808e748	//revert用

ORG 0x01cea8
    jumpToHack(odorero)

ORG 0x1CED4
    BYTE $00 $48 $87 $46
    POIN canto_impl

POP



canto_impl:
#incbin jinrai_fix_ijou.gba
    POIN hasCantoPlus

pulse_impl:
#incbin pulse.gba

#ifdef Debug_Mode
    odorero:
        #incbin "debug.dmp"
#else
    odorero:
        #incbin main.gba
        POIN hasRemove
        POIN hasGaleforce
        POIN hasLifetaker
        POIN hasCantoPlus
        POIN hasGaleCause
    hasRemove:
        HAS_SKILL
        WORD RemoveID
        POIN judgeSkill
    hasGaleforce:
        HAS_SKILL
        WORD GaleforceID
        POIN judgeSkill
    hasLifetaker:
        HAS_SKILL
        WORD LifetakerID
        POIN judgeSkill
hasCantoPlus:
    HAS_SKILL
    WORD CantoPlusID
    POIN judgeSkill
hasGaleCause:
    HAS_SKILL
    WORD GaleCauseID
    POIN judgeSkill
#endif

ALIGN 4
